<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>주차 차량 확인기</title>
<style>
  body {
    font-family: "Pretendard", sans-serif;
    background: #f9fafb;
    text-align: center;
    padding: 20px;
  }
  h2 { color: #2b4eff; }
  input {
    font-size: 1.2em;
    padding: 10px;
    width: 200px;
    margin: 10px;
    border-radius: 10px;
    border: 1px solid #ccc;
    text-align: center;
  }
  button {
    font-size: 1.1em;
    padding: 10px 20px;
    border: none;
    background: #2b4eff;
    color: white;
    border-radius: 10px;
  }
  button:active { background: #1a36b0; }
  table {
    margin: 20px auto;
    border-collapse: collapse;
    width: 90%;
    background: white;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  th, td {
    border: 1px solid #ddd;
    padding: 10px;
  }
  th { background: #f1f3f6; }
  #status { margin-top: 15px; font-weight: bold; color: #333; }
</style>
</head>
<body>
  <h2>🎤 주차 차량 확인기</h2>

  <input type="text" id="carInput" placeholder="4자리 번호 입력">
  <button onclick="checkCar()">조회</button>
  <button onclick="startVoice()">🎙️ 음성으로 조회</button>

  <div id="status"></div>

  <table id="resultTable" style="display:none;">
    <thead>
      <tr><th>번호</th><th>색상</th><th>차종</th><th>주차스티커</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
  // 🔹 차량 데이터 (HTML 안에서 직접 수정/추가 가능)
  const carData = [
  { 번호: "0114", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "레이 " },
  { 번호: "0136", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "C36 아우디" },
  { 번호: "0159", 주차스티커: "있음(황색)", 색상: "베이지", 차종: "모닝" },
  { 번호: "0211", 주차스티커: "없음", 색상: "검정계열", 차종: "크루즈" },
  { 번호: "0212", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "크루즈" },
  { 번호: "0227", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "K7" },
  { 번호: "0285", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "임팔라쉐보레" },
  { 번호: "0307", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "제네시스" },
  { 번호: "0430", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소나타" },
  { 번호: "0448", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "니로" },
  { 번호: "0460", 주차스티커: "없음", 색상: "검정계열", 차종: "K7" },
  { 번호: "0476", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "레이" },
  { 번호: "0520", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "0539", 주차스티커: "교회차량", 색상: "은_회색", 차종: "스타렉스" },
  { 번호: "0547", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "모닝" },
  { 번호: "0585", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "쏘렌토" },
  { 번호: "0563", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "스파크" },
  { 번호: "0585", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "0627", 주차스티커: "확인필요", 색상: "검정계열", 차종: "디스커버리" },
  { 번호: "0636", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "SM5" },
  { 번호: "0661", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "SM6" },
  { 번호: "0702", 주차스티커: "확인필요", 색상: "흰색", 차종: "k3" },
  { 번호: "0757", 주차스티커: "확인필요", 색상: "흰색", 차종: "k3" },
  { 번호: "0759", 주차스티커: "있음(황색)", 색상: "청색계열", 차종: "소나타" },
  { 번호: "0767", 주차스티커: "없음", 색상: "은_회색", 차종: "Benz" },
  { 번호: "0841", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아이오닉" },
  { 번호: "0892", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "티볼리" },
  { 번호: "0905", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "말리부" },
  { 번호: "0982", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "투산" },
  { 번호: "1045", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "G90" },
  { 번호: "1130", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "투산" },
  { 번호: "1138", 주차스티커: "확인필요", 색상: "흰색", 차종: "그랜저" },
  { 번호: "1178", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "넥소" },
  { 번호: "1284", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "EV6" },
  { 번호: "1288", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "1297", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K5 번호중복" },
  { 번호: "1297", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발 번호중복" },
  { 번호: "1288", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "1323", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "타우루스" },
  { 번호: "1336", 주차스티커: "없음", 색상: "베이지", 차종: "모닝" },
  { 번호: "1383", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "EV6" },
  { 번호: "1409", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "1412", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아반테" },
  { 번호: "1413", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "k3 GT" },
  { 번호: "1455", 주차스티커: "확인필요", 색상: "흰색", 차종: "카니발" },
  { 번호: "1521", 주차스티커: "없음", 색상: "흰색", 차종: "SM5" },
  { 번호: "1548", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "아반테" },
  { 번호: "1597", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "1618", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "A5 아우디" },
  { 번호: "1635", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "크루즈" },
  { 번호: "1661", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "스포티" },
  { 번호: "1682", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "1686", 주차스티커: "확인필요", 색상: "흰색", 차종: "BMW" },
  { 번호: "1695", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "소렌토" },
  { 번호: "1707", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "Ev6" },
  { 번호: "1757", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "렉스톤" },
  { 번호: "1772", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "BMW" },
  { 번호: "1834", 주차스티커: "확인필요", 색상: "검정계열", 차종: "스포티지" },
  { 번호: "1903", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "스포티지" },
  { 번호: "1925", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "카이런" },
  { 번호: "1929", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "1995", 주차스티커: "없음", 색상: "흰색", 차종: "Benz" },
  { 번호: "2019", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "2050", 주차스티커: "확인필요", 색상: "흰색", 차종: "Benz E200" },
  { 번호: "2094", 주차스티커: "확인필요", 색상: "흰색", 차종: "액티언" },
  { 번호: "2126", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "스포티지" },
  { 번호: "2196", 주차스티커: "없음", 색상: "청색계열", 차종: "테슬라 번호중복" },
  { 번호: "2196", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "스포티지 번호중복" },
  { 번호: "2198", 주차스티커: "없음", 색상: "은_회색", 차종: "소나타" },
  { 번호: "2202", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "QM5" },
  { 번호: "2226", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "CR-V 혼다" },
  { 번호: "2227", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "G80" },
  { 번호: "2234", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "포터트럭" },
  { 번호: "2293", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "티볼리" },
  { 번호: "2324", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "셀토스" },
  { 번호: "2345", 주차스티커: "확인필요", 색상: "검정계열", 차종: "투산" },
  { 번호: "2362", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "2380", 주차스티커: "있음(황색)", 색상: "베이지", 차종: "캐스퍼" },
  { 번호: "2382", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K5" },
  { 번호: "2404", 주차스티커: "확인필요", 색상: "청색계열", 차종: "i30_한성(흰색)중복" },
  { 번호: "2407", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "제네시스" },
  { 번호: "2411", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "산타페" },
  { 번호: "2412", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "소렌토" },
  { 번호: "2432", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "소나타" },
  { 번호: "2458", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "모닝" },
  { 번호: "2472", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "2475", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "소나타" },
  { 번호: "2479", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "스파크" },
  { 번호: "2489", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "마티즈" },
  { 번호: "2513", 주차스티커: "있음(황색)", 색상: "그린계열", 차종: "코나" },
  { 번호: "2535", 주차스티커: "확인필요", 색상: "검정계열", 차종: "오피러스" },
  { 번호: "2536", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "스포티지" },
  { 번호: "2589", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "스포티지" },
  { 번호: "2622", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소울" },
  { 번호: "2669", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K8" },
  { 번호: "2674", 주차스티커: "확인필요", 색상: "흰색", 차종: "아반테" },
  { 번호: "2678", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "스포티지" },
  { 번호: "2685", 주차스티커: "확인필요", 색상: "검정계열", 차종: "소나타" },
  { 번호: "2783", 주차스티커: "있음(파란)", 색상: "은_회색", 차종: "RX 렉서스" },
  { 번호: "2804", 주차스티커: "확인필요", 색상: "은_회색", 차종: "마티즈" },
  { 번호: "2808", 주차스티커: "없음(확인)", 색상: "베이지", 차종: "레이" },
  { 번호: "2826", 주차스티커: "있음(흰색)", 색상: "청색계열", 차종: "올랜도" },
  { 번호: "2829", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "2855", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "2883", 주차스티커: "있음(황색)", 색상: "베이지", 차종: "레이" },
  { 번호: "2934", 주차스티커: "확인필요", 색상: "흰색", 차종: "K5" },
  { 번호: "2960", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "G80" },
  { 번호: "3020", 주차스티커: "있음(파란)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "3036", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "카니발" },
  { 번호: "3051", 주차스티커: "확인필요", 색상: "청색계열", 차종: "320d_BMW" },
  { 번호: "3057", 주차스티커: "확인필요", 색상: "은_회색", 차종: "소렌토" },
  { 번호: "3069", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "K7" },
  { 번호: "3148", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "S60" },
  { 번호: "3184", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "스파크" },
  { 번호: "3193", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "스파크" },
  { 번호: "3200", 주차스티커: "확인필요", 색상: "흰색", 차종: "택시 번호중복" },
  { 번호: "3200", 주차스티커: "확인필요", 색상: "흰색", 차종: "스파크 번호중복" },
  { 번호: "3210", 주차스티커: "없음(확인)", 색상: "베이지", 차종: "레이" },
  { 번호: "3217", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "베라크루즈" },
  { 번호: "3228", 주차스티커: "확인필요", 색상: "은_회색", 차종: "아반테" },
  { 번호: "3247", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "스파크" },
  { 번호: "3254", 주차스티커: "없음", 색상: "흰색", 차종: "스포티지" },
  { 번호: "3310", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "3311", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "레이" },
  { 번호: "3323", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "SM3" },
  { 번호: "3339", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "3355", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "BMW" },
  { 번호: "3365", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "레이" },
  { 번호: "3339", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "3411", 주차스티커: "있음(황색)", 색상: "청색계열", 차종: "QM3" },
  { 번호: "3435", 주차스티커: "확인필요", 색상: "흰색", 차종: "E220d_Benz" },
  { 번호: "3438", 주차스티커: "있음(파란)", 색상: "은_회색", 차종: "K5" },
  { 번호: "3478", 주차스티커: "없음(확인)", 색상: "베이지", 차종: "레이" },
  { 번호: "3481", 주차스티커: "없음(확인)", 색상: "그린계열", 차종: "코나" },
  { 번호: "3487", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "카니발 " },
  { 번호: "3512", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "볼보" },
  { 번호: "3525", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "3533", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "3551", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "산타페" },
  { 번호: "3554", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "아반테" },
  { 번호: "3557", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "XC40_볼보" },
  { 번호: "3637", 주차스티커: "있음(황색)", 색상: "청색계열", 차종: "팰리세이드" },
  { 번호: "3715", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "3753", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "스포티지" },
  { 번호: "3810", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "프라이드" },
  { 번호: "3820", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "K7" },
  { 번호: "3822", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "SM3" },
  { 번호: "3835", 주차스티커: "확인필요", 색상: "그린계열", 차종: "레이" },
  { 번호: "3952", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "소나타" },
  { 번호: "3953", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "스포티지" },  
  { 번호: "3984", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "미니" },  
  { 번호: "4007", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "토레스" },
  { 번호: "4033", 주차스티커: "없음(확인)", 색상: "확인요", 차종: "스파크" },
  { 번호: "4044", 주차스티커: "있음(파란)", 색상: "검정계열", 차종: "SM5" },
  { 번호: "4065", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소나타" },
  { 번호: "4078", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "4115", 주차스티커: "확인필요", 색상: "검정계열", 차종: "SM5" },
  { 번호: "4116", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "4136", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "소나타" },
  { 번호: "4165", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "SM7" },
  { 번호: "4211", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "산타" },
  { 번호: "4220", 주차스티커: "확인필요", 색상: "청색계열", 차종: "셀토스" },
  { 번호: "4240", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "캐스퍼" },
  { 번호: "4264", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "SM6" },
  { 번호: "4274", 주차스티커: "확인필요", 색상: "은_회색", 차종: "스타렉스" },
  { 번호: "4286", 주차스티커: "있음(흰색)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "4348", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "forte" },
  { 번호: "4450", 주차스티커: "확인필요", 색상: "흰색", 차종: "E300_Benz" },
  { 번호: "4451", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "4498", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저 " },
  { 번호: "4509", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "티구안_폭스" },
  { 번호: "4520", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "4543", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "스포티지" },
  { 번호: "4590", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "XC60_볼보" },
  { 번호: "4607", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "4621", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "4634", 주차스티커: "있음(흰색)", 색상: "확인요", 차종: "스파크" },
  { 번호: "4647", 주차스티커: "있음(황색)", 색상: "베이지", 차종: "레이" },
  { 번호: "4667", 주차스티커: "있음(파란)", 색상: "은_회색", 차종: "스포티지" },
  { 번호: "4758", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "SM6" },
  { 번호: "4761", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "220d_Benz" },
  { 번호: "4793", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "4802", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "4836", 주차스티커: "있음(파란)", 색상: "흰색", 차종: "코나" },
  { 번호: "4845", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "모닝" },
  { 번호: "4848", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "티볼리" },
  { 번호: "4858", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "투산" },
  { 번호: "4876", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "SM3" },
  { 번호: "4890", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "X1_BMW" },
  { 번호: "4907", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "베뉴" },
  { 번호: "4932", 주차스티커: "확인필요", 색상: "흰색", 차종: "볼보" },
  { 번호: "4952", 주차스티커: "확인필요", 색상: "검정계열", 차종: "제네시스" },
  { 번호: "4983", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아반테" },
  { 번호: "4991", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "5005", 주차스티커: "확인필요", 색상: "은_회색", 차종: "S60 볼보" },
  { 번호: "5029", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "제타 폭스바겐" },
  { 번호: "5045", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "캐스퍼" },
  { 번호: "5111", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "셀토스" },
  { 번호: "5124", 주차스티커: "확인필요", 색상: "청색계열", 차종: "티볼리" },
  { 번호: "5130", 주차스티커: "있음(황색)", 색상: "브라운", 차종: "모하비" },
  { 번호: "5183", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "모닝" },
  { 번호: "5214", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "5217", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "5268", 주차스티커: "교회차량", 색상: "은_회색", 차종: "스타렉스" },
  { 번호: "5268", 주차스티커: "확인필요", 색상: "은_회색", 차종: "아반테" },
  { 번호: "5274", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "5299", 주차스티커: "확인필요", 색상: "은_회색", 차종: "스타렉스" },
  { 번호: "5307", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "셀토스" },
  { 번호: "5343", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K8" },
  { 번호: "5392", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "5409", 주차스티커: "있음(흰색)", 색상: "은_회색", 차종: "도요다" },
  { 번호: "5461", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "5478", 주차스티커: "없음", 색상: "검정계열", 차종: "셀토스" },
  { 번호: "5550", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K8" },
  { 번호: "5592", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K8" },
  { 번호: "5593", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저 IG" },
  { 번호: "5633", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "BMW" },
  { 번호: "5634", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "투산" },
  { 번호: "5644", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "아우디A4" },
  { 번호: "5761", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "제네시스" },
  { 번호: "5819", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "K3" },
  { 번호: "5881", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "K5" },
  { 번호: "5928", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "그랜저" },
  { 번호: "5940", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저 " },
  { 번호: "5987", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "그랜저 번호중복" },
  { 번호: "5987", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "XM3 번호중복" },
  { 번호: "6028", 주차스티커: "확인필요", 색상: "청색계열", 차종: "코나" },
  { 번호: "6087", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "520d_BMW" },
  { 번호: "6114", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "bolt" },
  { 번호: "6131", 주차스티커: "있음(황색)", 색상: "레드(빈티지)", 차종: "SM6" },
  { 번호: "6196", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "카니발" },
  { 번호: "6220", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "카니발" },
  { 번호: "6253", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "아반테" }, 
  { 번호: "6260", 주차스티커: "확인필요", 색상: "정보없음", 차종: "정보없음" },
  { 번호: "6270", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "SM6" },
  { 번호: "6274", 주차스티커: "있음(황색)", 색상: "브라운", 차종: "트레버스" },
  { 번호: "6279", 주차스티커: "확인필요", 색상: "흰색", 차종: "620i_BMW" },
  { 번호: "6280", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "쉐보레" },
  { 번호: "6325", 주차스티커: "확인필요", 색상: "은_회색", 차종: "모닝" },
  { 번호: "6406", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "6411", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "정보없음" },
  { 번호: "6470", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "렉스톤" },
  { 번호: "6477", 주차스티커: "있음(흰색)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "6508", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "passat_폭스" },
  { 번호: "6544", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "6554", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "산타페" },
  { 번호: "6561", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "소나" },
  { 번호: "6580", 주차스티커: "확인필요", 색상: "흰색", 차종: "라세티" },
  { 번호: "6687", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "G80" },
  { 번호: "6691", 주차스티커: "있음(황색)", 색상: "브라운", 차종: "올란도" },
  { 번호: "6697", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "스타렉스" },
  { 번호: "6746", 주차스티커: "있음(황색)", 색상: "베이지", 차종: "스파크" },
  { 번호: "6762", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "산타페" },
  { 번호: "6804", 주차스티커: "확인필요", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "6815", 주차스티커: "정보없음", 색상: "정보업음", 차종: "정보없음" },
  { 번호: "6849", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "투산" },
  { 번호: "6855", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "쉐보레" },
  { 번호: "6859", 주차스티커: "확인필요", 색상: "흰색", 차종: "소렌토" },
  { 번호: "6928", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "K3" },
  { 번호: "6932", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "6953", 주차스티커: "확인필요", 색상: "은_회색", 차종: "아반테" },
  { 번호: "6987", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "K3" },
  { 번호: "7020", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "카니발" },
  { 번호: "7029", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "7046", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "제네시스" },
  { 번호: "7082", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소나타" },
  { 번호: "7174", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "트레블라이저" },
  { 번호: "7232", 주차스티커: "확인필요", 색상: "은_회색", 차종: "모닝" },
  { 번호: "7258", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "투샨" },
  { 번호: "7312", 주차스티커: "없음(확인)", 색상: "그린계열", 차종: "레이" },
  { 번호: "7392", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "7419", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아반테" },
  { 번호: "7424", 주차스티커: "확인필요", 색상: "검정계열", 차종: "카나발" },
  { 번호: "7438", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "7455", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "소나타" },
  { 번호: "7521", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "카니발" },
  { 번호: "7530", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "셀토스" },
  { 번호: "7535", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "카니발" },
  { 번호: "7553", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "스포티지" },
  { 번호: "7616", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "스타렉스" },
  { 번호: "7637", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "산타페" },
  { 번호: "7638", 주차스티커: "확인필요", 색상: "검정계열", 차종: "스포티지" },
  { 번호: "7691", 주차스티커: "있음(흰색)", 색상: "은_회색", 차종: "투산" },
  { 번호: "7697", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "SM7" },
  { 번호: "7726", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "SM3" },
  { 번호: "7728", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "그랜저 TG_한성번호중복" },
  { 번호: "7758", 주차스티커: "없음(확인)", 색상: "베이지", 차종: "모닝" },
  { 번호: "7771", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "제네시스" },
  { 번호: "7789", 주차스티커: "확인필요", 색상: "흰색", 차종: "코나" },
  { 번호: "7884", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아반테" },
  { 번호: "7963", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "QM6" },
  { 번호: "7975", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "팰리쉐이드" },
  { 번호: "7980", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "i30 " },
  { 번호: "8016", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "K5택시" },
  { 번호: "8016", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "K5" },
  { 번호: "8072", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "8085", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "투리스모" },
  { 번호: "8088", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "8096", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: " 카니발" },
  { 번호: "8147", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "스포티지" },
  { 번호: "8175", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소렌토" },
  { 번호: "8183", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소나타 한성번호중복" },
  { 번호: "8203", 주차스티커: "없음(확인)", 색상: "그린계열", 차종: "토레스" },
  { 번호: "8215", 주차스티커: "확인필요", 색상: "은_회색", 차종: "올랜도" },
  { 번호: "8223", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "8263", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "QM6" },
  { 번호: "8285", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "GV80" },
  { 번호: "8287", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아반테" },
  { 번호: "8356", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "MBW" },
  { 번호: "8357", 주차스티커: "확인필요", 색상: "흰색", 차종: "산타페" },
  { 번호: "8364", 주차스티커: "확인필요", 색상: "검정계열", 차종: "k5" },
  { 번호: "8394", 주차스티커: "확인필요", 색상: "검정계열", 차종: "올랜도" },
  { 번호: "8402", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "G80" },
  { 번호: "8451", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "셀토스" },
  { 번호: "8468", 주차스티커: "없음(확인)", 색상: "연보라", 차종: "스파크" },
  { 번호: "8476", 주차스티커: "확인필요", 색상: "검정계열", 차종: "레이" },
  { 번호: "8512", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "올랜도" },
  { 번호: "8524", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "아반테" },
  { 번호: "8567", 주차스티커: "있음(흰색)", 색상: "흰색", 차종: "푸조" },
  { 번호: "8652", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K3" },
  { 번호: "8657", 주차스티커: "확인필요", 색상: "흰색", 차종: "300S 푸조" },
  { 번호: "8718", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소나타" },
  { 번호: "8724", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소나타" },
  { 번호: "8752", 주차스티커: "있음(흰색)", 색상: "브라운", 차종: "크로스백" },
  { 번호: "8766", 주차스티커: "확인필요", 색상: "흰색", 차종: "BMW" },
  { 번호: "8807", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "QM6" },
  { 번호: "8856", 주차스티커: "확인필요", 색상: "은_회색", 차종: "소나타" },
  { 번호: "8866", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "맥스크루즈" },
  { 번호: "8943", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "코나" },
  { 번호: "8956", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "정보없음" },
  { 번호: "9007", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "니로" },
  { 번호: "9034", 주차스티커: "있음(흰색)", 색상: "은_회색", 차종: "스포티지" },
  { 번호: "9067", 주차스티커: "확인필요", 색상: "흰색", 차종: "SM5" },
  { 번호: "9131", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "9190", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "스파크 " },
  { 번호: "9197", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "G80" },
  { 번호: "9242", 주차스티커: "확인필요", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "9275", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "9276", 주차스티커: "확인필요", 색상: "흰색", 차종: "아반테" },
  { 번호: "9301", 주차스티커: "확인필요", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "9319", 주차스티커: "없음(확인)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "9321", 주차스티커: "있음(황색)", 색상: "브라운", 차종: "아반테" },
  { 번호: "9332", 주차스티커: "있음(흰색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "9407", 주차스티커: "없음(확인)", 색상: "흰색", 차종: "산타페" },
  { 번호: "9423", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "9457", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "SM5 구" },
  { 번호: "9472", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "캡티바" },
  { 번호: "9523", 주차스티커: "있음(파란)", 색상: "은_회색", 차종: "아반테" },
  { 번호: "9535", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "소렌토" },
  { 번호: "9559", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "말리부" },
  { 번호: "9590", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "E300_Benz" },
  { 번호: "9608", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "소나타" },
  { 번호: "9665", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "스포티지" },
  { 번호: "9810", 주차스티커: "확인필요", 색상: "은_회색", 차종: "아반테" },
  { 번호: "9839", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "테슬라 " },
  { 번호: "9843", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "K8" },
  { 번호: "9848", 주차스티커: "있음(황색)", 색상: "은_회색", 차종: "오딧세이 혼다" },
  { 번호: "9849", 주차스티커: "있음(황색)", 색상: "흰색", 차종: "k7" },
  { 번호: "9904", 주차스티커: "확인필요", 색상: "은_회색", 차종: "트빌라이저" },
  { 번호: "9924", 주차스티커: "없음(확인)", 색상: "베이지", 차종: "COOPER 미니" },
  { 번호: "9939", 주차스티커: "있음(황색)", 색상: "검정계열", 차종: "그랜저" },
  { 번호: "9949", 주차스티커: "없음(확인)", 색상: "은_회색", 차종: "jeep" }
  ];

  const inputEl = document.getElementById("carInput");
  const statusEl = document.getElementById("status");
  const table = document.getElementById("resultTable");
  const tbody = table.querySelector("tbody");
  
  // 현재 음성 인식 객체를 저장하는 변수
  let recognition; 

  inputEl.addEventListener("keydown", (e) => {
    if (e.key === "Enter") checkCar();
  });

  // 🔹 차량 검색 함수
  function checkCar() {
    const num = inputEl.value.replace(/\D/g, "").padStart(4, "0");
    if (!num) {
      speak("번호를 입력하거나 말씀해주세요.");
      // 음성 인식이 활성화된 상태면 여기서 멈춤
      if (recognition) {
          recognition.stop();
          recognition = null; // 객체 초기화
      }
      return;
    }

    // 결과 처리 로직 (원래 코드와 동일)
    const found = carData.find(c => c.번호 === num);
    if (found) {
      showResult(found);
      speak(`${num}번 차량은 ${found.색상} ${found.차종}, 주차스티커 ${found.주차스티커} 입니다.`);
    } else {
      statusEl.textContent = `🚫 ${num}번 차량은 등록되지 않았습니다.`;
      table.style.display = "none";
      speak(`${num}번 차량은 등록되지 않았습니다.`);
    }
    
    // 인식 성공 후 객체 정리
    if (recognition) {
        recognition.stop();
        recognition = null;
    }
  }

  // 🔹 결과 표시 함수
  function showResult(data) {
    tbody.innerHTML = `
      <tr>
        <td>${data.번호}</td>
        <td>${data.색상}</td>
        <td>${data.차종}</td>
        <td>${data.주차스티커}</td>
      </tr>
    `;
    table.style.display = "table";
    statusEl.textContent = "✅ 차량 정보가 확인되었습니다.";
  }

  // 🔹 음성으로 말하기 함수
  function speak(text) {
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = "ko-KR";
    speechSynthesis.speak(utter);
  }

  // 🔹 음성 인식 시작 함수
  function startVoice() {
    // 이미 인식 중이면 중복 실행 방지
    if (recognition) return; 

    if (!("webkitSpeechRecognition" in window)) {
      alert("이 브라우저는 음성인식을 지원하지 않습니다.\n크롬 브라우저를 사용해주세요.");
      return;
    }

    recognition = new webkitSpeechRecognition(); // 전역 변수에 저장
    recognition.lang = "ko-KR";
    
    // **모바일 환경에서 짧은 발화 후 인식이 중단되는 문제를 완화하기 위해 'continuous: false'를 유지하고 재시작 로직으로 보완합니다.**
    // recognition.continuous = true; // 연속 인식 모드는 모바일에서 불안정
    recognition.interimResults = false; // 최종 결과만 받도록 설정 (선택 사항)
    recognition.maxAlternatives = 1;

    recognition.onstart = function() {
        statusEl.textContent = "🎙️ 번호를 말씀해주세요...";
    };
    
    // 인식 성공
    recognition.onresult = function(event) {
      // recognition.stop(); // onresult에서 stop을 호출하면 다음 발화가 인식되지 않을 수 있어 checkCar()에서 처리
      const transcript = event.results[0][0].transcript;
      const num = transcript.replace(/[^0-9]/g, ""); // 숫자만 추출
      
      // 음성 인식이 '0'이나 '1004'처럼 인식될 때: 번호가 짧으면 인식이 불완전하다고 간주할 수 있음
      if (num.length >= 2 && num.length <= 4) {
          inputEl.value = num;
          checkCar(); // checkCar 내부에서 recognition.stop() 호출
      } else {
          statusEl.textContent = `⚠️ 인식된 내용("${transcript}")에서 번호 추출 실패. 다시 시도해주세요.`;
          speak("번호를 정확히 말씀해주세요. 다시 시작합니다.");
          // 번호 추출 실패 시 자동으로 재시작
          recognition.start();
      }
    };

    // 인식이 끝났을 때 (오류가 아니더라도 끝날 수 있음)
    recognition.onend = function() {
        // 오류가 아닌 정상 종료이거나, onresult를 통해 checkCar가 호출된 경우 recognition 객체는 null이 됩니다.
        // 객체가 null이 아니면, 음성 인식이 예상치 않게 중단된 것으로 보고 재시작하지 않습니다.
        if (recognition) {
            recognition = null; 
            // statusEl.textContent = "조회 버튼을 눌러 다시 시작해주세요.";
        }
    };
    
    // ⭐⭐ 오류 발생 시 처리 로직 (핵심 수정 부분) ⭐⭐
    recognition.onerror = function(event) {
        let errorMsg = "❌ 음성 인식 중 오류가 발생했습니다. (일반 오류)";
        
        switch(event.error) {
            case 'not-allowed':
                errorMsg = "❌ 마이크 권한이 거부되었습니다. 브라우저 설정에서 마이크 사용을 허용해주세요.";
                speak(errorMsg);
                break;
            case 'network':
                errorMsg = "❌ 네트워크 연결 상태를 확인해주세요.";
                speak(errorMsg);
                break;
            case 'no-speech':
                errorMsg = "❌ 음성을 인식하지 못했습니다. 다시 말씀해주세요.";
                // 'no-speech' 오류는 재시작 시도
                statusEl.textContent = errorMsg + " (자동 재시작)";
                speak("음성을 인식하지 못했습니다. 다시 말씀해주세요.");
                recognition.start();
                return; // 재시작했으므로 함수 종료
            case 'aborted':
                // 사용자가 취소하거나, checkCar에서 stop()을 호출한 경우 (정상 종료)
                errorMsg = "음성 인식이 종료되었습니다.";
                break;
            case 'audio-capture':
                errorMsg = "❌ 마이크에 접근할 수 없습니다. 다른 앱이 마이크를 사용 중인지 확인해주세요.";
                speak(errorMsg);
                break;
            case 'service-not-allowed':
                // 특히 모바일에서 자주 발생 (HTTPS 필수)
                errorMsg = "❌ 보안 문제로 서비스 사용이 거부되었습니다. **HTTPS 환경**에서 접속했는지 확인해주세요.";
                speak(errorMsg);
                break;
            default:
                // 기타 오류 시 (예: timeout)
                statusEl.textContent = errorMsg + ` (오류 코드: ${event.error})`;
                speak(errorMsg + " 다시 시작합니다.");
                
                // ⭐⭐ 모바일에서 자주 발생하는 Timeout 오류 등의 경우 자동 재시작 ⭐⭐
                if (recognition) { // 객체가 살아있는지 확인 후
                    try {
                        recognition.start();
                        return; // 재시작했으므로 함수 종료
                    } catch(e) {
                        errorMsg = "❌ 음성 인식 재시작 실패: " + e.message;
                    }
                }
                break;
        }

        statusEl.textContent = errorMsg;
        recognition = null; // 오류 발생 시 객체 초기화
    };
    
    recognition.start();
  }
  </script>
</body>
</html>